<!-- lambda-detail.component.html -->
<p-card class="w-full p-5" >
  <ng-template pTemplate="header">
    <div class="flex items-center justify-between">
      <h2 class="text-xl font-bold">{{ agent.name }}</h2>
      <!-- optionally some action buttons like Edit / Delete etc -->
    </div>
  </ng-template>

  <div class="mt-4 space-y-2">
    <div class="flex gap-4">
      <div><strong>Public URL:</strong></div>
      <div>{{ agent.name || 'NA' }}</div>
    </div>
    <div class="flex gap-4">
      <div><strong>Last Deployed:</strong></div>
      <!-- <div>{{ agent.name | date:'short' }}</div> -->
      <div>{{agent.name}}</div>
    </div>
    <div class="flex gap-4">
      <div><strong>Created At:</strong></div>
      <!-- <div>{{ agent.name | date:'short' }}</div> -->
       <div>{{agent.name}}</div>
    </div>
    <div class="flex gap-4">
      <div><strong>Active:</strong></div>
      <div>{{ agent.active ? 'Yes' : 'No' }}</div>
    </div>
    <div class="flex gap-4">
      <div><strong>Is Scheduled:</strong></div>
      <div>{{ agent.is_scheduled ? 'Yes' : 'No' }}</div>
    </div>
    <div *ngIf="agent.is_scheduled" class="flex gap-4">
      <div><strong>Frequency:</strong></div>
      <div>{{ agent.frequency }}</div>
    </div>
  </div>

  <div class="mt-6">
    <h3 class="text-lg font-semibold">Executions</h3>
    <!-- Example: using p-table for executions -->
    <p-table  [value]="executions" [tableStyle]="{ 'min-width': '100%' }">
      <ng-template #header>
        <tr>
          <th>Id</th>
          <th>Started At</th>
          <th>Completed At</th>
          <th>Status</th>
          <th>Logs</th>
        </tr>
      </ng-template>
      <ng-template #body let-exec>
        <tr>
            <td>{{exec.id}}</td>
          <td>{{ exec.started_at | date:'short' }}</td>
          <td>{{ exec.completed_at | date:'short' }}</td>
          <td>@if (exec.status) {
            <i style="color: green" class="pi pi-check"></i>
            }@else {
                <i style="color: red" class="pi pi-times"></i>
            }</td>
          <td><button pButton class="p-1" type="button" label="View" (click)="viewDetails(exec)"></button></td>
        </tr>
      </ng-template>
    </p-table>
  </div>

</p-card>
